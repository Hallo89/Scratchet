// main: main.less
@main-color: hsl(0, 0%, 95%);
@main-color--inactive: hsl(0, 0%, 85%);

@canvas-color: hsl(0, 0%, 8%);
@background-color: hsl(0, 0%, 18.5%);
@draw-indicator-color: hsl(0, 0%, 90%);

@slider-thumb-color: hsl(0, 0%, 31%);
@slider-thumb-color--hover: hsl(0, 0%, 34%);

@general-border-radius: 1.4rem;
@general-backdrop-blur: blur(22px);

@invalid-color: #B83232;
@invalid-overlay-bg: saturate(@overlay-bg, 20%);

@max-z-index: 2147483647;

@overlay-margin: .85rem;
@overlay-gap: .45rem;
@overlay-padding: .2rem;

@overlay-border-dims: 2px;
@overlay-button-dims: 2.72rem;
@overlay-svg-dims: 1.05em;

@config-bar-height: 2.4rem;
@slider-thumb-dims: 1.75rem;
@slider-width-thumb-width: 2.5rem;

@overlay-bg: lighten(@canvas-color, 10%);
@overlay-bg--inactive: darken(@overlay-bg, 6%);

@panel-border-dims: 4px;

@panel-bg-base: lighten(@canvas-color, 8%);
@panel-bg: fade(@panel-bg-base, 67.5%);
@panel-btn-bg: lighten(@panel-bg-base, 9.5%);


// -- Prompt --
@prompt-header-bg: lighten(@panel-bg, 6.5%);


// -- Toolbar --
@toolbar-bg: fade(@overlay-bg, 45%);

@toolbar-button-shrink-factor: 0.835;

@toolbar-button-dims: @overlay-button-dims * @toolbar-button-shrink-factor;
@toolbar-svg-dims: (@overlay-svg-dims + .05em) * @toolbar-button-shrink-factor;
@toolbar-padding: (@overlay-button-dims * (1 - @toolbar-button-shrink-factor) / 2);


// -- Utility mixins --
.generalBorder(@border-size) {
  border: @border-size solid @canvas-color;
}

.buttonStyle(@base-color) {
  &:hover {
    background-color: lighten(@base-color, 4%) !important;
  }
  &:active {
    background-color: lighten(@base-color, 3%) !important;
  }
}


// -- Canvas animations --
@canvas-anim-inactive-scale: .9175;

// NOTE: Remember to update CANVAS_ANIM_DURATION (init.js) when changing these values
@canvas-anim-duration-inOut: .6s;
@canvas-anim-duration-remove: .26s;


.canvasKeyframes {
  .translateIn(@translateX, @translateY) {
    @keyframes translateIn {
      0% {
        scale: @canvas-anim-inactive-scale;
        z-index: 0;
        pointer-events: none;
        border-radius: @general-border-radius;
      }
      49.9% {
        z-index: 0;
      }
      50% {
        z-index: (@max-z-index - 1);
        transform: translate(@translateX, @translateY);
      }
      85% {
        border-radius: @general-border-radius;
      }
      100% {
        pointer-events: none;
      }
    }
  }
  .translateOut(@translateX, @translateY) {
    @keyframes translateOut {
      0% {
        border-radius: 0;
        visibility: visible;
      }
      2% {
        border-radius: @general-border-radius;
      }
      50% {
        transform: translate(@translateX, @translateY);
      }
      100% {
        scale: @canvas-anim-inactive-scale;
        visibility: visible;
      }
    }
  }
  .remove() {
    @keyframes canvasRemove {
      0% {
        border-radius: 0;
        visibility: visible;
      }
      2% {
        border-radius: @general-border-radius;
      }
      47% {
        transform: scale(.925);
        filter: none;
        opacity: 1;
      }
      100% {
        transform: scale(1.125);
        opacity: 0;
        filter: blur(12px);
        visibility: visible;
      }
    }
  }
}
